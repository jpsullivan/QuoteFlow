@using QuoteFlow.Html
@using QuoteFlow.Infrastructure.Extensions
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>

    <link rel="stylesheet" href="@Url.Content("~/Content/css/lib/aui/aui-all.css")" media="all">
    <!--[if lt IE 9]><link rel="stylesheet" href="@Url.Content("/Content/css/lib/aui/aui-ie.css")" media="all"><![endif]-->
    <!--[if IE 9]><link rel="stylesheet" href="@Url.Content("/Content/css/lib/aui/aui-ie9.css")" media="all"><![endif]-->
    @Styles.Render("~/bundles/css_app")
</head>
<body class="aui-layout">
    <div id="page">
        @(User.Identity.IsAuthenticated ? Html.Partial("_AuthenticatedHeader") : Html.Partial("_UnauthenticatedHeader"))

        <section id="content" role="main">
            @RenderBody()
        </section>

        @Html.Partial("_Footer")
    </div>
    
    @Scripts.Render("~/bundles/js_lib", "~/bundles/js_app")
    @Html.RenderJsBundle("templates.js", BundleOptions.MinifiedAndCombined)
    <!--[if lt IE 9]><script src="@Url.Content("~/Content/js/lib/aui/aui-ie.js")"></script><![endif]-->
    @RenderSection("scripts", false)
    
    <script>
        var qf = new QuoteFlow.Initialize('@Url.SiteRoot()', '@Context.Request.ApplicationPath.EnsureTrailingSlash()', '@CurrentOrganization.Id', @ViewHelpers.JsEncode(CurrentUser));
    </script>

    @StackExchange.Profiling.MiniProfiler.RenderIncludes()
    
    @RenderSection("secondaryScripts", false)
</body>
</html>
